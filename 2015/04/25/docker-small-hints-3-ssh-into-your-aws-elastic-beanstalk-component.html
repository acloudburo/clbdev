<!doctype html> 
<html>
  <head>
    <meta charset="utf-8" />
    <meta content="IE=edge;chrome=1" http-equiv="X-UA-Compatible" />
    <title>dev@cloudburo | Docker Small Hints #3: SSH into your AWS Elastic Beanstalk Component</title>
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" /><!--[if lt IE 9]><script src="../../../js/ie8.js" type="text/javascript"></script><![endif]--><link href="../../../css/all.css" media="screen" rel="stylesheet" type="text/css" /><script type="text/javascript">
      (function(d,e,j,h,f,c,b){d.GoogleAnalyticsObject=f;d[f]=d[f]||function(){(d[f].q=d[f].q||[]).push(arguments)},d[f].l=1*new Date();c=e.createElement(j),b=e.getElementsByTagName(j)[0];c.async=1;c.src=h;b.parentNode.insertBefore(c,b)})(window,document,"script","//www.google-analytics.com/analytics.js","ga");ga("create","UA-35696879-1", location.hostname);ga("send","pageview");
    </script>
    <link href="/favicon.png" rel="icon" type="image/png" />
  </head>
  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button class="navbar-toggle collapsed" data-target=".navbar-ex1-collapse" data-toggle="collapse" type="button"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/">dev@cloudburo</a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
          <ul class="nav navbar-nav">
            <li>
              <a href="/menu1.html"> About  </a>
            </li>
            <li>
              <a href="/menu2.html"> Contact  </a>
            </li>
            <li class="dropdown">
              <a aria-expanded="false" class="dropdown-toggle" data-toggle="dropdown" href="#" role="button">Categories <span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li>
                  <a href="/tags/quicktips.html">quicktips (3)</a>
                </li>
                <li>
                  <a href="/tags/bootstrap.html">bootstrap (1)</a>
                </li>
                <li>
                  <a href="/tags/gradle.html">gradle (2)</a>
                </li>
                <li>
                  <a href="/tags/smallhints.html">smallhints (6)</a>
                </li>
                <li>
                  <a href="/tags/docker.html">docker (3)</a>
                </li>
                <li>
                  <a href="/tags/aws.html">aws (5)</a>
                </li>
                <li>
                  <a href="/tags/microservice.html">microservice (7)</a>
                </li>
                <li>
                  <a href="/tags/architecture.html">architecture (6)</a>
                </li>
                <li>
                  <a href="/tags/inspiration.html">inspiration (2)</a>
                </li>
                <li>
                  <a href="/tags/futurework.html">futureWork (5)</a>
                </li>
                <li>
                  <a href="/tags/grails.html">grails (1)</a>
                </li>
                <li>
                  <a href="/tags/googleapps.html">googleapps (1)</a>
                </li>
                <li>
                  <a href="/tags/shift.html">shift (4)</a>
                </li>
                <li>
                  <a href="/tags/startup.html">startup (1)</a>
                </li>
                <li>
                  <a href="/tags/legal.html">legal (1)</a>
                </li>
                <li>
                  <a href="/tags/personaldata.html">personalData (2)</a>
                </li>
                <li>
                  <a href="/tags/api.html">api (2)</a>
                </li>
                <li>
                  <a href="/tags/modeling.html">modeling (1)</a>
                </li>
                <li>
                  <a href="/tags/banking.html">banking (1)</a>
                </li>
              </ul>
            </li>
            <li>
              <a href="/docs">Docs</a>
            </li>
            <ul class="list-unstyled list-inline nav navbar-nav navbar-right"></ul>
            <li><a href="https://twitter.com/talfco">
                        <i class="fa fa-lg fa-inverse fa-twitter-square"></i></a>
            </li>
            <li><a href="https://www.linkedin.com/in/felixk">
                        <i class="fa fa-lg fa-inverse fa-linkedin-square"></i></a>
            </li>
            <li><a href="https://plus.google.com/u/1/b/102868953630532463137/+CloudburoCh/posts">
                        <i class="fa fa-lg fa-inverse fa-google-plus-square"></i></a>
            </li>
            <li><a href="https://github.com/talfco">
                        <i class="fa fa-lg fa-inverse fa-github-square"></i></a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="container">
      <div class="row">
        <div class="col-lg-9 col-md-9">
          <h1>
            Docker Small Hints #3: SSH into your AWS Elastic Beanstalk Component
          </h1>
          <small class="label label-default">docker</small>
          <small class="label label-default">aws</small>
          <small class="label label-default">smallhints</small>
          <hr />
          <p>
            <span class="glyphicon glyphicon-time"></span> Posted on Apr 25
          </p>
          <hr /><div class="row">
  <div class="article"><p><span/>      <div>
    Was quite a hassle in the past to setup SSH connectivity into your Elastic Beanstalk instance, luckly this got simplified. With the 
   <i>eb</i>&nbsp;Version 3&nbsp;command tool you get all the necessary support.&nbsp; 
  </div> 
  <div> 
   <br> 
  </div> 
  <div>
    First install the&nbsp; 
   <i>eb cli</i>&nbsp;interface, as described here 
  </div> 
  <div> 
   <br> 
  </div> 
  <div> 
   <a href="http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb-cli3-getting-set-up.html" rel="nofollow"><a href="http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb-cli3-getting-set-up.html">http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb-cli3-getting-set-up.html</a></a> 
  </div> 
  <div> 
   <br> 
  </div> 
  <div>
    Run 
   <i>&nbsp;eb init</i>, which will configure the eb command line to one of your running 
   <i>eb</i> instances. 
  </div> 
  <div> 
   <br> 
  </div> 
  <div></p>
<pre class="highlight plaintext"><code>
iMac:~ Felix$ eb init 
  Select a default region
 1) us-east-1 : US East (N. Virginia) 
  2) us-west-1 : US West (N. California) 
  ... 
  (default is 3): 
  Select an application to use 
  1) curationApp
 2) [ Create new Application ] 
  (default is 2): 1 

</code></pre>

<div> 
   <br> 
  </div> 

<p><div>
    Now configure your EB&nbsp;Environment&nbsp;to allow ssh inbound traffic, via&nbsp;&nbsp; 
   <i>eb ssh&nbsp;—setup</i> command. Be&nbsp;aware that will result in a re-creation of your EB environment. 
  </div> 
  <div>
    Amongst others the command will create&nbsp;the&nbsp;public/private keypair as well which is put&nbsp;under the default name 
   <i>aws-eb</i>&nbsp;into your local &nbsp; 
   <i>.ssh</i> directory 
  </div> 
  <div> 
   <div> 
    <br> 
   </div> 
   <div></p>
<pre class="highlight plaintext"><code>
iMac:~ Felix$ eb ssh --setup
 WARNING: You are about to setup SSH for environment "curationApp-prod". If you continue, your existing instances will have to be **terminated** and new instances will be created. The environment will be temporarily unavailable. 
  To confirm, type the environment name: curationApp-prod 
  Type a keypair name.
 (Default is aws-eb):
 Generating public/private rsa key pair. 
   ... 

  Your identification has been saved in /Users/Felix/.ssh/aws-eb. 
   ... 
  WARNING: Uploaded SSH public key for "aws-eb" into EC2 for region us-west-2. 
  INFO: Environment update is starting.                              
 INFO: Updating environment curationApp-prod's configuration settings.
 INFO: Created Auto Scaling launch configuration named: awseb-e-...-stack-AWSEBAutoScalingLaunchConfiguration-1D8ET9F9BZ592
 INFO: Deleted Auto Scaling launch configuration named: awseb-e-...-stack-AWSEBAutoScalingLaunchConfiguration-8JDT6IAKL1QQ 
  INFO: Successfully deployed new configuration to environment.  

</code></pre>

<p></div> 
   <div> 
    <br> 
   </div> 
  </div> 
  <div>
    You are now read to connect with the &nbsp; 
   <i>eb ssh</i> command. 
  </div> 
  <div> 
   <span style="font-size: 18px;"><br></span> 
  </div> 
  <div> 
   <span style="font-size: 18px;"><b>Looking at the details of the configuration triangle</b></span> 
  </div> 
  <div> 
   <br> 
  </div> 
  <div>
    Memorize the following picture, which shows you the major concepts of a EC2 setup.&nbsp;&nbsp;AWS EC2 is the underlying Linux Container Infrastructure on top of which your EB managed&nbsp;Docker Applications&nbsp;will run. 
  </div> 
  <div> 
   <br> 
  </div> 
  <div>
    You Docker Container will run within one EC2 instance, represented by the orange Instance box. For each EB Docker Instance there will be one EC2 Instance instantiated. 
  </div> 
  <div> 
   <div> 
    <br> 
   </div> 
  </div> 
  <div></p>

  </div>
  <img class="img-responsive img-thumbnail article" src="/images/820746984edb2ecb86de31973a2d854e.png" />
  <div class="article">
    <p><span/> 
      </div> 
      <div> 
       <br> 
      </div> 
      <div> 
       <br> 
      </div> 
      <div>
        The EC2 instance will have Security Groups to control the access. There&nbsp;is a Security Group for each&nbsp; EB-Instance you are running, which by default allows inbound access from the http port. This security group is now extended to allow SSH inbound traffic. 
      </div> 
      <div>
        In the dashboard you will see a &nbsp;Security Group Name which contains&nbsp;the substring 
       <i>AWSEBSecurityGroup&nbsp;(</i>this value is also a tag value of the group for tag name&nbsp; 
       <i>aws:cloudformation:logical-id</i>&nbsp;(Tab Tags)) 
      </div> 
      <div> 
       <br> 
      </div> 
      <div></p>
    
  </div>
  <img class="img-responsive img-thumbnail article" src="/images/74509d1957c1fcb41391de8fb8add8f9.png" />
  <div class="article">
    <p><span/> 
      </div> 
      <div> 
       <br> 
      </div> 
      <div>
        This Security Group 
       <i><em>ASWEBSecurityGroup</em></i> is the configured Security Group of your EC2 docker instance running the EB environment. You would find the link in the column security group when click on Instances (left hand menu) in the Dashboard 
      </div> 
      <div> 
       <br> 
      </div> 
      <div></p>
    
  </div>
  <img class="img-responsive img-thumbnail article" src="/images/0e16630c0c6e65305ffbd4d961df9e45.png" />
  <div class="article">
    <p><span/> 
      </div> 
      <div> 
       <br> 
      </div> 
      <div>
        As mentioned above a&nbsp;Key Pair was created with the default name 
       <i>aws_eb</i>&nbsp;(left hand menu Key Pairs). The eb setup command made sure that this key pair was downloaded to your local .ssh directory. 
      </div> 
      <div> 
       <br> 
      </div> 
      <div></p>
    
  </div>
  <img class="img-responsive img-thumbnail article" src="/images/a84b6851d2333a7ea9ff8cdd848ac43e.png" />
  <div class="article">
    <p><span/> 
      </div> 
      <div> 
       <br> 
      </div> 
      <div>
        So now we have (1) a EC2 Instance configured with (2) a &nbsp;Security Group&nbsp;for SSH inbound traffic&nbsp;and we have (3) a Public/Private key pair&nbsp; which allows us to authenticate ourselves.&nbsp; 
      </div> 
      <div> 
       <br> 
      </div> 
      <div>
        The&nbsp;missing combination of (2) Security Group with (3) Key Pair can be found in the Elastic Beanstalk Dashboard via the Server Configuration tab. You can see here the Security Group as well as the drop box EC2 key pair, which ties the relevant Key Pair to the configuration. That’s it. 
      </div> 
      <div></p>
    
  </div>
  <img class="img-responsive img-thumbnail article" src="/images/58931d9f39e7ac379c3d099e40f2e74b.png" />
  <div class="article">
    <p><span/> 
      </div> 
      <div> 
       <br> 
      </div> 
      <div> 
       <br> 
      </div> 
      <div> 
       <br> 
      </div> 
      <div> 
       <br> 
      </div> 
      <div> 
       <br> 
      </div> 
      <div> 
       <br> 
      </div></p>
    
  </div>
</div>
          <hr />
          <div id="disqus_thread"></div>
          <script type="text/javascript">
          //<![CDATA[
                            var disqus_shortname = 'dev1cloudburo';
                    
              (function() {
                  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
              })();
          //]]>
          </script>
          <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
          <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          <script type="text/javascript">
          //<![CDATA[
              var disqus_shortname = 'dev1cloudburo';
              (function () {
                  var s = document.createElement('script'); s.async = true;
                  s.type = 'text/javascript';
                  s.src = '//' + disqus_shortname + '.disqus.com/count.js';
                  (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
              }());
          //]]>
          </script>
          
          <aside>
            <h3>
              Recent Articles
            </h3>
            <ol>
              <li>
                <a href="/2015/05/07/micro-business-quick-tips-3-are-these-4-common-legal-mistakes-putting-your-conte.html">Micro Business Quick Tips #3: Are These 4 Common Legal Mistakes Putting Your Content at Risk?</a> <span>May  7</span> 
              </li>
              <li>
                <a href="/2015/05/06/amazon-cto-werner-vogels-shares-nine-patterns-of-cloud-adoption.html">Amazon CTO Werner Vogels Shares Nine Patterns of Cloud Adoption</a> <span>May  6</span> 
              </li>
              <li>
                <a href="/2015/04/25/docker-small-hints-3-ssh-into-your-aws-elastic-beanstalk-component.html">Docker Small Hints #3: SSH into your AWS Elastic Beanstalk Component</a> <span>Apr 25</span> 
              </li>
              <li>
                <a href="/2015/04/24/micro-business-quick-tips-2-google-apps-email-setup-for-a-new-domain.html">Micro Business Quick Tips #2: Google Apps Email setup for a new domain</a> <span>Apr 24</span> 
              </li>
              <li>
                <a href="/2015/04/21/micro-business-quick-tips-1-get-a-bullet-proof-e-mail-setup-spf-dkim-dmarc.html">Micro Business Quick Tips #1: Get a bullet proof E-Mail setup (SPF, DKIM, DMARC)</a> <span>Apr 21</span> 
              </li>
              <li>
                <a href="/2015/04/17/grails-small-hints-1-refresh-dependencies-in-grails-sts-tool-suite.html">Grails Small Hints #1 - Refresh Dependencies in Grails STS Tool Suite</a> <span>Apr 17</span> 
              </li>
              <li>
                <a href="/2015/04/17/the-benefits-of-microservices.html">The Benefits of Microservices</a> <span>Apr 17</span> 
              </li>
              <li>
                <a href="/2015/04/14/gradle-small-hints-2-deploy-and-integrate-maven-artifacts-on-github.html">Gradle Small Hints #2 - Deploy and Integrate Maven Artifacts on Github</a> <span>Apr 14</span> 
              </li>
              <li>
                <a href="/2015/04/13/docker-small-hints-2-controlling-cloud-costs-using-alarms-in-aws.html">Docker Small Hints #2: Controlling Cloud Costs using Alarms in AWS</a> <span>Apr 13</span> 
              </li>
              <li>
                <a href="/2015/04/09/docker-small-hints-1-high-level-concepts-elastic-beanstalk.html">Docker Small Hints #1:  High Level Concepts Elastic Beanstalk</a> <span>Apr  9</span> 
              </li>
            </ol>
          </aside>
          <hr>
            <p class="text-center">
              ©2015 <a href="/">dev@cloudburo</a> <br /><span class="small">Powered by<a href="https://cloudburo.net/docs/products.html"> Cloudburo Curation Engine</a></span>
            </p>
          </hr>
        </div>
        <div class="col-lg-3 col-md-3">
          <div class="well">
            <h4>
              Categories
            </h4>
            <ul class="list-unstyled">
              <li>
                <a href="/tags/quicktips.html">quicktips</a> (3)
              </li>
              <li>
                <a href="/tags/bootstrap.html">bootstrap</a> (1)
              </li>
              <li>
                <a href="/tags/gradle.html">gradle</a> (2)
              </li>
              <li>
                <a href="/tags/smallhints.html">smallhints</a> (6)
              </li>
              <li>
                <a href="/tags/docker.html">docker</a> (3)
              </li>
              <li>
                <a href="/tags/aws.html">aws</a> (5)
              </li>
              <li>
                <a href="/tags/microservice.html">microservice</a> (7)
              </li>
              <li>
                <a href="/tags/architecture.html">architecture</a> (6)
              </li>
              <li>
                <a href="/tags/inspiration.html">inspiration</a> (2)
              </li>
              <li>
                <a href="/tags/futurework.html">futureWork</a> (5)
              </li>
              <li>
                <a href="/tags/grails.html">grails</a> (1)
              </li>
              <li>
                <a href="/tags/googleapps.html">googleapps</a> (1)
              </li>
              <li>
                <a href="/tags/shift.html">shift</a> (4)
              </li>
              <li>
                <a href="/tags/startup.html">startup</a> (1)
              </li>
              <li>
                <a href="/tags/legal.html">legal</a> (1)
              </li>
              <li>
                <a href="/tags/personaldata.html">personalData</a> (2)
              </li>
              <li>
                <a href="/tags/api.html">api</a> (2)
              </li>
              <li>
                <a href="/tags/modeling.html">modeling</a> (1)
              </li>
              <li>
                <a href="/tags/banking.html">banking</a> (1)
              </li>
            </ul>
          </div>
          <div class="well">
            <h4>
              By year
            </h4>
            <ol>
              <li>
                <a href="/2015.html">2015</a> (19)
              </li>
              <li>
                <a href="/2014.html">2014</a> (10)
              </li>
            </ol>
          </div>
        </div>
      </div>
    </div>
    <script src="../../../js/all.js" type="text/javascript"></script>
  </body>
</html>